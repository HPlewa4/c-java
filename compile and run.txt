# Compile Java
javac -d . Bridge.java functions/*.java

# Generate JNI header
javac -h . Bridge.java

# Compile C++
g++ -fPIC -shared bridge.cpp -o libbridge.so \
    -I/usr/lib/jvm/java-17-openjdk-amd64/include \
    -I/usr/lib/jvm/java-17-openjdk-amd64/include/linux

# Run
java -Djava.library.path=. Bridge
